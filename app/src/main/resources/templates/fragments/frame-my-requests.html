<!--
  #%L
  Signs at work
  %%
  Copyright (C) 2016 Orange
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 2 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-2.0.html>.
  #L%
  -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="utf-8"/>
</head>
<body>

<div id="frame-requests" th:fragment="div">
  <div th:if="${isAuthenticated}" class="dropdown">
    <button th:attr="class=${classDropdownSize}" type="button" id="dropdownMenu1"
            data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
      <span class="menu_down_black pull-left"></span>
      <span th:attr="class=${classDropdownTitle}"></span>
      <span th:attr="class=${classDropdownDirection}"></span>
      <span class="" th:text="${dropdownTitle}"></span>
      <span id="nb" th:text="'('+${#lists.size(myRequests)}+')'"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
      <li>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${isAll}" th:href="@{/sec/my-requests/frame/(isSearch=${isSearch})}">
          <div class="pull-left all-signs_blue"></div>
          <span th:text="#{allRequests}"></span>
          <div class="pull-right v-done_black"></div>
        </a>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${!isAll}" th:href="@{/sec/my-requests/frame/(isSearch=${isSearch})}">
          <div class="pull-left all-signs_blue"></div>
          <span th:text="#{allRequests}"></span>
        </a>
      </li>
      <li>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${isAlphabeticAsc}" th:href="@{/sec/my-requests/alphabetic/frame(isAlphabeticAsc=${isAlphabeticAsc}, isSearch=${isSearch})}">
          <div class="pull-left sort_alpha_blue"></div>
          <span th:text="#{alphabetic}"></span>
          <div class="pull-right v-done-down_black"></div>
        </a>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${!isAlphabeticAsc and !isAlphabeticDesc}" th:href="@{/sec/my-requests/alphabetic/frame(isAlphabeticAsc=${isAlphabeticAsc}, isSearch=${isSearch})}">
          <div class="pull-left sort_alpha_blue"></div>
          <span th:text="#{alphabetic}"></span>
        </a>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${isAlphabeticDesc}" th:href="@{/sec/my-requests/alphabetic/frame(isAlphabeticAsc=${isAlphabeticAsc}, isSearch=${isSearch})}">
          <div class="pull-left sort_alpha_blue"></div>
          <span th:text="#{alphabetic}"></span>
          <div class="pull-right v-done-up_black"></div>
        </a>
      </li>
      <li>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${isMostRecent}" th:href="@{/sec/my-requests/mostrecent/frame(isMostRecent=${isMostRecent}, isSearch=${isSearch})}">
          <div class="pull-left new_blue"></div>
          <span th:text="#{most_recent_request}"></span>
          <div class="pull-right v-done-down_black"></div>
        </a>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${!isMostRecent and !isLowRecent}" th:href="@{/sec/my-requests/mostrecent/frame(isMostRecent=${isMostRecent}, isSearch=${isSearch})}">
          <div class="pull-left new_blue"></div>
          <span th:text="#{most_recent_request}"></span>
        </a>
        <a th:onclick="'javascript:onFiltreRequest(event, this.href)'" th:if="${isLowRecent}" th:href="@{/sec/my-requests/mostrecent/frame(isMostRecent=${isMostRecent}, isSearch=${isSearch})}">
          <div class="pull-left new_blue"></div>
          <span th:text="#{most_recent_request}"></span>
          <div class="pull-right v-done-up_black"></div>
        </a>
      </li>

    </ul>
  </div>

  <div class="row ">
    <div class="col-xs-12 col-lg-12">
      <div th:if="${not #lists.isEmpty(myRequests)}" class="text-left title_middle" id="requests_container">
        <div th:id="${request.name}" th:each="request:${myRequests}">
          <aside class="sidebar">
            <ul class="nav nav-list primary left-menu">
              <li th:if="${request.sign == null}" class="aside_bckg_li">
                <a class="all_li_clickable" th:href="@{/sec/my-request-detail/} + ${request.id}">
                    <h4 class="container_H2 text_hyphenation" th:text="${request.name}"></h4>
                    <div class="pull-right chevron"></div>
                </a>
              </li>
              <li th:if="${request.sign != null}" class="aside_bckg_li">
                <a class="all_li_clickable" th:href="@{/sign/} + ${request.sign.id}">
                    <div class="pull-left new_blue"></div>
                    <h4 th:if="${request.name == request.sign.name}" class="container_H2 text_hyphenation" th:text="${request.name}"></h4>
                    <h4 th:if="${request.name != request.sign.name}" class="container_H2 text_hyphenation" th:text="#{request.rename_in(${request.name}, ${request.sign.name})}"></h4>
                    <div class="pull-right chevron"></div>
                </a>
              </li>
            </ul>
          </aside>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
